~ "input.ua"

PushMapValue ← insert: ⊃(⊂ ◇⊙⋅⋅∘|⋅⊙∘) ◡get
MakeRuleMap  ← ∧(⨬(insert⊙(□¤:)|PushMapValue)◡has ⊙: °⊟):[]
⊙MakeRuleMap

HasIntersection ← =₁/↥/↥⊞(=) °□
IsUpdateValid   ← ¬/↥ ≡(HasIntersection ⊃(⬚[]get ⊙⋅∘|⋅⊙◌) °⊂⇌↙) ⊙¤ +₁↘₁ °⊏ ⊙¤

⟜≡(◇IsUpdateValid) ⊙¤
▽:
/◇+⍚(⊡⌊÷₂⊸⧻)
